<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Interview Result</title>

    <style>
      :root {
        --bg-dark: #020617;
        --bg-light: #f4f6f8;
        --card-dark: #0f172a;
        --card-light: #ffffff;
        --text-dark: #e5e7eb;
        --text-light: #020617;
        --accent: #38bdf8;
      }

      body {
        margin: 0;
        padding: 40px;
        font-family: Arial, sans-serif;
        background: var(--bg-dark);
        color: var(--text-dark);
        transition: 0.4s;
      }

      body.light {
        background: var(--bg-light);
        color: var(--text-light);
      }

      .container {
        max-width: 900px;
        margin: auto;
      }

      .card {
        background: var(--card-dark);
        padding: 30px;
        border-radius: 14px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
      }

      body.light .card {
        background: var(--card-light);
      }

      h1 {
        text-align: center;
        color: var(--accent);
      }

      .subtitle {
        text-align: center;
        margin-bottom: 25px;
        color: #94a3b8;
      }

      .score-box {
        text-align: center;
        font-size: 26px;
        font-weight: bold;
        margin-bottom: 15px;
      }

      .feedback {
        text-align: center;
        margin-bottom: 20px;
      }

      .soft-scores {
        background: rgba(255, 255, 255, 0.06);
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 25px;
        text-align: center;
      }

      body.light .soft-scores {
        background: #e5e7eb;
      }

      .result-item {
        background: rgba(255, 255, 255, 0.05);
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 12px;
      }

      body.light .result-item {
        background: #f1f5f9;
      }

      .model-answer {
        display: none;
        margin-top: 8px;
        padding: 10px;
        background: rgba(56, 189, 248, 0.15);
        border-radius: 6px;
        font-size: 14px;
      }

      button {
        padding: 10px 20px;
        font-size: 14px;
        border: none;
        border-radius: 8px;
        background: var(--accent);
        cursor: pointer;
        font-weight: bold;
        margin-top: 8px;
      }

      .theme-toggle {
        position: fixed;
        top: 15px;
        right: 20px;
        background: none;
        border: none;
        font-size: 20px;
        cursor: pointer;
        color: inherit;
      }
    </style>
  </head>

  <body>
    <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ™ / â˜€</button>

    <div class="container">
      <div class="card">
        <h1>Interview Completed ðŸŽ‰</h1>
        <p class="subtitle">Here is your AI Mock HR Interview performance</p>

        <div class="score-box" id="scoreBox"></div>
        <div class="feedback" id="feedback"></div>

        <div class="soft-scores" id="softScores"></div>

        <div id="resultList"></div>

        <div style="text-align: center; margin-top: 25px">
          <button onclick="viewReport()">View Performance Report</button>
          <button onclick="goHome()">Back to Home</button>
        </div>
      </div>
    </div>

    <script>
      function toggleTheme() {
        document.body.classList.toggle("light");
      }

      /* ===== FULL 50 MODEL ANSWERS ===== */
      const MODEL_ANSWERS = {
        "Tell me about yourself":
          "My name is ___ and I am from ___. I recently completed my education and developed a strong interest in learning new technologies. I enjoy problem-solving and continuous self-improvement. I am disciplined, motivated, and goal-oriented. I am looking for an opportunity to grow professionally.",

        "What are your strengths?":
          "My strengths include adaptability, quick learning, and dedication. I work well in team environments and communicate clearly. I am good at managing my time and meeting deadlines. I stay calm under pressure. I always try to give my best effort.",

        "What are your weaknesses?":
          "One of my weaknesses is being too focused on perfection. I am learning to balance quality and time effectively. I take feedback positively. I continuously work on self-improvement. This helps me grow professionally.",

        "Why should we hire you?":
          "I am hardworking and eager to learn. I adapt quickly to new challenges. I take responsibility for my work. I believe in teamwork and honesty. I am committed to contributing positively to the organization.",

        "Where do you see yourself in five years?":
          "In five years, I see myself as a skilled professional. I want to gain strong industry experience. I aim to take on more responsibilities. I plan to grow technically and personally. I want to contribute to organizational success.",

        "Describe a challenge you faced":
          "I once faced difficulty managing multiple tasks. I created a priority list to manage time. I stayed focused and organized. This helped me complete tasks efficiently. The experience improved my planning skills.",

        "How do you handle pressure?":
          "I handle pressure by staying calm and focused. I break tasks into smaller steps. Planning helps me manage workload. I avoid panic and stay confident. Pressure motivates me to perform better.",

        "What motivates you?":
          "Learning new things motivates me. Achieving goals gives me satisfaction. Feedback helps me improve. Challenges push me forward. Growth keeps me inspired.",

        "Tell me about a failure":
          "I once failed due to poor planning. I analyzed what went wrong. I learned from my mistakes. I improved my approach next time. Failure helped me become more responsible.",

        "What are your career goals?":
          "My goal is to build a stable career. I want to enhance my technical skills. I aim to gain industry experience. I want to take leadership roles. Long-term growth is important to me.",

        "How do you handle criticism?":
          "I accept criticism positively. I see it as an opportunity to improve. I analyze feedback carefully. I work on my weak areas. This helps me grow continuously.",

        "What do you know about our company?":
          "Your company has a strong reputation in the industry. It focuses on innovation and quality. I admire its work culture. The company values growth and learning. I want to contribute to its success.",

        "Why did you choose this field?":
          "I chose this field because of my interest. I enjoy learning related skills. It allows continuous growth. The field offers new challenges. I feel motivated working in it.",

        "How do you manage time?":
          "I plan my tasks in advance. I set priorities. I avoid procrastination. I follow schedules strictly. Time management helps me stay productive.",

        "What is your biggest achievement?":
          "Completing my projects successfully is my biggest achievement. I stayed consistent and focused. I learned many skills. It boosted my confidence. It prepared me for real-world challenges.",

        "Describe teamwork experience":
          "I have worked in team projects. I communicate openly with team members. I support others when needed. Teamwork improves efficiency. Collaboration helps achieve better results.",

        "How do you solve problems?":
          "I analyze the problem carefully. I break it into parts. I explore possible solutions. I choose the best approach. I verify results after implementation.",

        "Are you a leader or follower?":
          "I can be both when needed. I take responsibility as a leader. I follow guidance when required. I respect teamwork. Flexibility is my strength.",

        "How do you handle conflicts?":
          "I handle conflicts calmly. I listen to all perspectives. I communicate respectfully. I focus on solutions. Mutual understanding is important.",

        "What makes you unique?":
          "My dedication makes me unique. I am always eager to learn. I adapt quickly. I stay positive during challenges. I continuously improve myself.",

        "What are your hobbies?":
          "My hobbies include learning new skills. I enjoy reading and exploring technology. I like problem-solving. Hobbies refresh my mind. They improve creativity.",

        "How do you learn new skills?":
          "I learn through practice and consistency. I use online resources. I apply what I learn. I seek feedback. Continuous learning is my habit.",

        "What are your short-term goals?":
          "My short-term goal is gaining experience. I want to improve my skills. I aim to perform well. I want to learn industry standards. Growth is my focus.",

        "What are your long-term goals?":
          "My long-term goal is career stability. I want leadership responsibilities. I aim to become an expert. I want to contribute to innovation. Growth matters to me.",

        "How do you stay motivated?":
          "I set clear goals. I track progress. I celebrate small achievements. Challenges inspire me. Motivation keeps me focused.",

        "Describe your work ethic":
          "I believe in honesty and discipline. I respect deadlines. I give my best effort. I take responsibility seriously. Quality work is important to me.",

        "How do you adapt to change?":
          "I accept change positively. I learn new methods. I stay flexible. Adaptability helps growth. Change improves skills.",

        "What inspires you?":
          "Success stories inspire me. Learning inspires growth. Challenges motivate improvement. Hard work inspires discipline. Progress keeps me inspired.",

        "How do you handle deadlines?":
          "I plan tasks early. I avoid last-minute stress. I prioritize important work. I stay disciplined. Deadlines keep me focused.",

        "How do you handle stress?":
          "I stay calm under stress. I organize tasks. I take short breaks. Planning reduces stress. Positive thinking helps.",

        "What do you expect from this role?":
          "I expect learning opportunities. I want growth and challenges. I seek responsibility. I want to improve skills. I aim to contribute effectively.",

        "What kind of work environment do you prefer?":
          "I prefer a positive environment. Team collaboration matters. Open communication is important. Learning culture motivates me. Respect improves productivity.",

        "How do you prioritize tasks?":
          "I list tasks by importance. I focus on deadlines. I manage time wisely. Planning helps execution. Prioritization improves efficiency.",

        "Describe your communication skills":
          "I communicate clearly and respectfully. I listen actively. I express ideas confidently. Communication avoids misunderstandings. It improves teamwork.",

        "How do you deal with failure?":
          "I analyze failures calmly. I learn lessons. I improve strategies. Failure builds experience. Growth follows mistakes.",

        "What is your ideal job?":
          "My ideal job offers growth. It challenges my skills. Learning is continuous. Teamwork is valued. Contribution matters.",

        "What do you do under pressure?":
          "I stay calm and focused. I prioritize tasks. I avoid panic. Planning helps control pressure. Pressure improves performance.",

        "How do you define success?":
          "Success means continuous improvement. Achieving goals matters. Learning from failures counts. Growth defines success. Satisfaction is important.",

        "Why should we trust you?":
          "I am honest and responsible. I respect commitments. I communicate openly. I take accountability seriously. Trust builds success.",

        "How do you improve yourself?":
          "I learn daily. I seek feedback. I practice consistently. I analyze mistakes. Improvement is ongoing.",

        "What are your technical skills?":
          "I have foundational technical skills. I keep learning new tools. I practice regularly. I improve through projects. Skills grow with experience.",

        "How do you stay organized?":
          "I plan daily tasks. I use schedules. I maintain priorities. Organization saves time. Discipline keeps me efficient.",

        "Describe a difficult decision":
          "I analyze all options carefully. I consider consequences. I seek advice if needed. I choose logically. Decisions build experience.",

        "How do you handle mistakes?":
          "I accept mistakes honestly. I correct them quickly. I learn lessons. Mistakes improve skills. Responsibility matters.",

        "What are your values?":
          "Honesty is my core value. Discipline guides me. Respect matters. Responsibility is important. Values define character.",

        "What does teamwork mean to you?":
          "Teamwork means collaboration. Supporting each other matters. Communication is key. Shared goals unite teams. Success is collective.",

        "How do you manage expectations?":
          "I communicate clearly. I set realistic goals. I manage time properly. Transparency avoids issues. Expectations guide performance.",

        "What are you passionate about?":
          "I am passionate about learning. I enjoy skill development. Problem-solving excites me. Growth motivates me. Passion drives success.",

        "Why do you want this job?":
          "This role aligns with my goals. It offers learning opportunities. I admire the organization. I want to contribute. Growth motivates me.",
      };

      const results =
        JSON.parse(localStorage.getItem("interviewResults")) || [];

      const list = document.getElementById("resultList");
      const scoreBox = document.getElementById("scoreBox");
      const feedbackEl = document.getElementById("feedback");
      const softScoresEl = document.getElementById("softScores");

      if (results.length === 0) {
        scoreBox.innerHTML = "Score: 0%";
        feedbackEl.innerHTML = "No interview data found.";
      } else {
        let totalScore = 0;
        let totalWords = 0;

        results.forEach((r) => {
          totalScore += r.score || 0;
          if (r.answer) totalWords += r.answer.split(" ").length;
        });

        let finalScore = Math.round((totalScore / (results.length * 20)) * 100);

        scoreBox.innerHTML = `Score: ${finalScore}%`;

        results.forEach((item, index) => {
          const modelAnswer =
            MODEL_ANSWERS[item.question] || "No model answer.";

          list.innerHTML += `
          <div class="result-item">
            <b>Q${index + 1}. ${item.question}</b><br/>
            <b>Your Answer:</b> ${item.answer}<br/>
            <b>Score:</b> ${item.score}/20<br/>
            <button onclick="toggleAnswer(${index})">Show Answer</button>
            <div class="model-answer" id="answer-${index}">
              <b>Model Answer:</b> ${modelAnswer}
            </div>
          </div>`;
        });
      }

      function toggleAnswer(i) {
        const el = document.getElementById("answer-" + i);
        el.style.display = el.style.display === "none" ? "block" : "none";
      }

      function viewReport() {
        window.location.href = "/performance";
      }

      function goHome() {
        window.location.href = "/";
      }
    </script>
  </body>
</html>
